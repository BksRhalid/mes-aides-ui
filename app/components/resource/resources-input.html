<div ng-repeat="(key, entries) in individu.resources">
  <ma-resource-input ng-repeat-start="entry in entries"
    resource-id="key"
    value="entry.value"
    earned-on="entry.earnedOn"
  ></ma-resource-input>
  <button ng-click="individu.removeResource(key, $index)"
    class="btn btn-xs btn-link"
    ng-repeat-end
  >Supprimer</button>
</div>

<div>
  <h3 ng-hide="addingNewResource"
    ng-click="addingNewResource = true"
    ng-class="{
      'btn-primary': ! individu.hasResources(),
      'btn-link': individu.hasResources()
    }"
    class="btn btn-lg"
  >DÃ©clarer une {{ individu.hasResources() ? 'autre' : '' }} ressource <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></h3>

  <ma-resource-select ng-show="addingNewResource"
    individu="individu"
    on-select="addingNewResource = false"
  ></ma-resource-select>
</div>
