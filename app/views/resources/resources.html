<ui-view id="resources-pane">
  <h1>Déclarez toutes vos rentrées d'argent</h1>
  <p class="help-block">Perçues en France et à l'étranger depuis {{ oneYearAgo | formatDate:'MMMM YYYY' }}. Votre simulation sera plus précise si vous entrez des valeurs exactes.</p>

  <ma-resources-input individu="individu"></ma-resources-input>

  <linechart data="chartableResources"
    options="options"
    height="200"
    ng-show="individu.hasResources()"
  ></linechart>

  <div ng-repeat="resource in individu.resources">
    <ma-resource-input resource="resource" autofocus="false"></ma-resource-input>
    <button ng-click="individu.removeResource(resource)"
      class="btn btn-xs btn-link"
      ng-repeat-end
    >Supprimer</button>
  </div>
</ui-view>

<div class="text-right">
  <button type="submit"
    ng-click="$state.go('foyer.pensionsAlimentaires')"
    ng-class="{
      'btn-success': individu.hasResources(),
      'btn-primary': ! individu.hasResources()
    }"
    class="btn btn-lg"
  >
    <span ng-show="individu.hasResources()">Valider</span>
    <span ng-show="! individu.hasResources()">Je n’ai eu aucune rentrée d’argent depuis {{ oneYearAgo | formatDate:'MMMM YYYY'}}</span>
  </button>
</div>
